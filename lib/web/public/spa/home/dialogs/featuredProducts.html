<div class="dialog-curtain" ng-show="edit_featured_products_dialog_visible == true">
    <md-card class="suite-dialog md-card-base">
        <md-card-title layout="column" layout-align="" layout-gt-sm="row" layout-align-gt-sm="start center">
            <md-card-title-text>
                <span class="md-headline">Featured Products</span>
            </md-card-title-text>
            <md-list-item>
                <md-input-container class="md-block lightweight-md-dropdown">
                    <label>Column</label>
                    <md-select ng-model="column">
                        <md-option ng-value="title">
                            Title &amp; Subtitle
                        </md-option>
                        <md-option ng-value="0">
                            Column 1
                        </md-option>
                        <md-option ng-value="1">
                            Column 2
                        </md-option>
                        <md-option ng-value="2">
                            Column 3
                        </md-option>
                    </md-select>
                </md-input-container>
            </md-list-item>
        </md-card-title>
        <md-card-content ng-show="column == title" layout="column" layout-gt-sm="row" layout-align="space-around center" layout-align-gt-sm="center center" layout-margin>
            <!-- columns -->
            <div flex flex-gt-sm="40">
                <md-card class="md-card-base">
                    <md-card-content>
                        <md-list-item>
                            <md-input-container class="md-block lightweight-md-input" flex>
                                <label>Title</label>
                                <input ng-model="editable_featured_products.data.title">
                            </md-input-container>
                        </md-list-item>
                        <md-list-item>
                            <md-input-container class="md-block lightweight-md-input" flex>
                                <label>Subtitle</label>
                                <input ng-model="editable_featured_products.data.subtitle">
                            </md-input-container>
                        </md-list-item>
                    </md-card-content>
                </md-card>
            </div>
            <!-- columns -->
        </md-card-content>
        <md-card-content ng-show="column != title" layout="column" layout-gt-sm="row" layout-align="space-around center" layout-align-gt-sm="center center" layout-margin>
            <!-- columns -->
            <div flex flex-gt-sm="40" style="width: 100%">
                <md-card class="md-card-base">
                    <md-card-content>
                        <md-list-item>
                            <md-input-container class="md-block lightweight-md-input" flex>
                                <label>Title</label>
                                <input ng-model="editable_featured_products.data.list[column].title">
                            </md-input-container>
                        </md-list-item>
                        <div class="lightweight-list-control" ng-repeat="content in editable_featured_products.data.list[column].contents | orderBy:'position'">
                            <md-list-item ng-attr-sortable ng-if="content.type == 'text'">
                                <md-icon class="list-handle" style="color: {{primary_hue_normal.value}}" aria-label="Remove List Item" md-font-library="material-icons">drag_handle</md-icon>
                                <md-input-container class="md-block lightweight-md-input" flex>
                                    <label>Paragraph</label>
                                    <textarea md-detect-hidden="true" ng-model="content.data" rows="3" md-maxlength="250"></textarea>
                                </md-input-container>
                            </md-list-item>
                            <md-list-item ng-attr-sortable ng-if="content.type == 'list'">
                                <md-icon class="list-handle" style="color: {{primary_hue_normal.value}}" aria-label="Remove List Item" md-font-library="material-icons">drag_handle</md-icon>
                                <form name="featuredProductEdit" flex>
                                    <md-button ng-disabled="featuredProductEdit.$invalid && content.data.length != 0 || content.data.length == 12" ng-click="content.data.push({item: ''})" class="md-raised" style="background-color: {{base_hue_lighter.value}}; max-width: 50%;"><md-icon aria-label="Add A List Item"md-font-library="material-icons" style="color: {{primary_hue_normal.value}}">add</md-icon> 
                                        Add Item
                                    </md-button>
                                    <div layout="column" flex>
                                        <md-input-container ng-repeat="listItem in content.data track by $index" class="md-block lightweight-md-input lightweight-list-control">
                                            <div flex="100" layout="row" layout-align="center center" ng-attr-sortable>
                                                <label>Item</label>
                                                <md-icon class="list-handle" style="color: {{primary_hue_normal.value}}" aria-label="Remove List Item" md-font-library="material-icons">drag_handle</md-icon>
                                                <input ng-model="listItem.item" required>
                                                <md-icon style="color: {{primary_hue_normal.value}}" ng-if="$index > 0" ng-click="content.data.splice($index, 1)" aria-label="Remove List Item" md-font-library="material-icons">delete</md-icon>
                                            </div>
                                        </md-input-container>
                                    </div>
                                </form>
                            </md-list-item>
                        </div>
                        <md-list-item>
                            <md-input-container class="md-block lightweight-md-input" flex>
                                <label>Link</label>
                                <input disabled>
                            </md-input-container>
                        </md-list-item>
                        <md-list-item>
                            <md-input-container class="md-block lightweight-md-input" flex>
                                <label>Button Text</label>
                                <input disabled>
                            </md-input-container>
                        </md-list-item>
                    </md-card-content>
                </md-card>
            </div>
            <!-- columns -->

            <!-- columns -->
            <div flex flex-gt-sm="40" ng-show="column != title">
                <md-card class="md-card-base" style="background-color: {{base_hue_lightest.value}};">
                    <img ng-value="'{{editable_featured_products.data.list[column].images.source}}'" ng-src="{{editable_featured_products.data.list[column].images.source}}" class="md-card-image" alt="Washed Out">
                    <md-card-actions layout="row">
                        <md-button aria-label="Replace Image" disable>
                            TAGS: Construction, Stone Waterfall
                        </md-button>
                        <span flex></span>
                        <md-button ng-if="column == 0" ng-click="openMediaVault('featuredProducts0')" aria-label="Replace Image">
                            Replace
                        </md-button>
                        <md-button ng-if="column == 1" ng-click="openMediaVault('featuredProducts1')" aria-label="Replace Image">
                            Replace
                        </md-button>
                        <md-button ng-if="column == 2" ng-click="openMediaVault('featuredProducts2')" aria-label="Replace Image">
                            Replace
                        </md-button>
                    </md-card-actions>
                </md-card>
            </div>
            <!-- columns -->
        </md-card-content>
        <md-card-actions layout="row" layout-align="end center">
            <md-button ng-click="endFeaturedProductsEdit()">Cancel</md-button>
            <md-button ng-click="updateApp('featuredProducts')">Update</md-button>
        </md-card-actions>
    </md-card>
</div>