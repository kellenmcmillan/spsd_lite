<style>
 .back-to-top {
    background-color: {{primary_hue_normal.value}};
    opacity: 0;
    transition-duration: .3s;
    transition-timing-function: cubic-bezier(.4,0,.2,1);
    transition-property: opacity;
}
.back-to-top:hover {
    background-color: {{primary_hue_lighter.value}};
}
.mdl-button--fab:focus:not(:active) {
    background-color: {{primary_hue_normal.value}};
}
.lightweight-navigation-link {position: relative;}
.lightweight-navigation-link:after {
    content: ''; position: absolute; width: 0; 
    height: 2px; background-color: {{primary_hue_normal.value}}; 
    left: 50%; bottom: 0;
    transition-duration: .3s;
    transition-timing-function: cubic-bezier(.4,0,.2,1);
    transition-property: width, left;
}
.lightweight-navigation-link.active:after {
    width: 70%; left: 15%;
}
.lightweight-navigation-link:hover:after {
    width: 70%; left: 15%;
}
</style>
<style ng-if="scroll > 300">
    .back-to-top {
        opacity: 1;
    }
</style>

<a class="back-to-top mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect mdl-shadow--8dp" style="position: fixed; bottom: 64px; right: 32px; z-index: 100" href="/#/#top" du-scrollspy du-smooth-scroll du-scroll-container="lightweight_content">
    <i 
    class="material-icons base-hlst--text" 
    role="presentation">
    keyboard_arrow_up
    </i>                 
</a>

<header class="lightweight-header" ng-if="scrollable" respect-scrollbar>

    <div class="lightweight-header-row" ng-class="{'at-top': scroll == 0}">

        <span class="mdl-layout-title header-graphic-logo">
            <a href="/">
                <img ng-if="scroll > 0" class="header-logo" src="{{settings.logo}}" ng-cloak="true">
            </a>
            <a href="/">
                <img ng-if="scroll == 0" class="header-logo" src="{{settings.logo_white}}" ng-cloak="true">
            </a>
        </span>

        <div class="mdl-layout-spacer"></div>

        <!-- Header Navigation -->
        <nav class="lightweight-navigation-item mdl-cell--hide-tablet mdl-cell--hide-phone" du-scroll-container="lightweight_content">
            <a 
            class="lightweight-navigation-link header-navigation base-hdr--text"
            ng-class="{'active': scroll >= slideshow_bottom && scroll < mission_bottom}"
            style="font-size: 16px; font-weight: bold"
            href="{{settings.primary_navigation[0].href}}" 
            hash="{{settings.primary_navigation[0].hash}}"
            du-scrollspy
            du-smooth-scroll>
                {{settings.primary_navigation[0].name}}
            </a>
            <a 
            class="lightweight-navigation-link header-navigation base-hdr--text"
            ng-class="{'active': scroll >= parallaxOneBottom && scroll < products_bottom}"
            style="font-size: 16px; font-weight: bold"
            href="{{settings.primary_navigation[1].href}}" 
            hash="{{settings.primary_navigation[1].hash}}"
            du-scrollspy
            du-smooth-scroll>
                {{settings.primary_navigation[1].name}}
            </a>
            <a 
            class="lightweight-navigation-link header-navigation base-hdr--text"
            ng-class="{'active': scroll >= parallaxTwoTop && scroll < featured_gallery_bottom}"
            style="font-size: 16px; font-weight: bold"
            href="{{settings.primary_navigation[2].href}}" 
            hash="{{settings.primary_navigation[2].hash}}"
            du-scrollspy
            du-smooth-scroll>
                {{settings.primary_navigation[2].name}}
            </a>
            <a 
            class="lightweight-navigation-link header-navigation base-hdr--text"
            ng-class="{'active': scroll >= parallaxThreeTop && scroll < map_container_bottom}"
            style="font-size: 16px; font-weight: bold"
            href="{{settings.primary_navigation[3].href}}" 
            hash="{{settings.primary_navigation[3].hash}}"
            du-scrollspy
            du-smooth-scroll>
                {{settings.primary_navigation[3].name}}
            </a>
            <a 
            class="lightweight-navigation-link header-navigation base-hdr--text"
            ng-class="{'active': scroll > contact_container_bottom && scroll < end_of_page_beginning}"
            style="font-size: 16px; font-weight: bold"
            href="{{settings.primary_navigation[4].href}}" 
            hash="{{settings.primary_navigation[4].hash}}"
            du-scrollspy
            du-smooth-scroll>
                {{settings.primary_navigation[4].name}}
            </a>
            <a 
            class="lightweight-navigation-link header-navigation base-hdr--text"
            style="font-size: 16px; font-weight: bold"
            href="{{settings.primary_navigation[5].href}}" 
            hash="{{settings.primary_navigation[5].hash}}"
            du-scrollspy
            du-smooth-scroll>
                {{settings.primary_navigation[5].name}}
            </a>
        </nav>
        <!-- Header Navigation -->
        &nbsp;&nbsp;
        <span class="mdl-layout-title mdl-cell--hide-desktop">
            <!-- Right aligned menu below button -->
            
                <i class="material-icons base-hdr--text" style="font-weight: normal;" ng-click="$parent.mobile_menu = !$parent.mobile_menu;">menu</i>

            <!-- Right aligned menu below button -->
        </span>

    </div>

</header>

<header class="lightweight-header" ng-if="!scrollable" respect-scrollbar>

    <div class="lightweight-header-row" ng-class="{'at-top': scroll == 0}">

        <span class="mdl-layout-title header-graphic-logo">
            <a href="/">
                <img ng-if="scroll == 0" class="header-logo" src="{{settings.logo_white}}" ng-cloak="true">
            </a>
            <a href="/">
                <img ng-if="scroll > 0" class="header-logo" src="{{settings.logo}}" ng-cloak="true">
            </a>
        </span>

        <div class="mdl-layout-spacer"></div>

        <!-- Header Navigation -->
        <nav class="lightweight-navigation-item mdl-cell--hide-tablet mdl-cell--hide-phone" du-scroll-container="lightweight_content">
            <a 
            class="lightweight-navigation-link header-navigation base-hdr--text"
            ng-class="{'active': scroll >= slideshow_bottom && scroll < mission_bottom}"
            style="font-size: 16px; font-weight: bold"
            href="{{settings.primary_navigation[0].href}}" 
            hash="{{settings.primary_navigation[0].hash}}"
            du-scrollspy
            du-smooth-scroll>
                {{settings.primary_navigation[0].name}}
            </a>
            <a 
            class="lightweight-navigation-link header-navigation base-hdr--text"
            ng-class="{'active': scroll >= secondary_parallax_bottom && scroll < products_bottom}"
            style="font-size: 16px; font-weight: bold"
            href="{{settings.primary_navigation[1].href}}" 
            hash="{{settings.primary_navigation[1].hash}}"
            du-scrollspy
            du-smooth-scroll>
                {{settings.primary_navigation[1].name}}
            </a>
            <a 
            class="lightweight-navigation-link header-navigation base-hdr--text"
            ng-class="{'active': scroll >= primary_parallax_top && scroll < featured_gallery_bottom}"
            style="font-size: 16px; font-weight: bold"
            href="{{settings.primary_navigation[2].href}}" 
            hash="{{settings.primary_navigation[2].hash}}"
            du-scrollspy
            du-smooth-scroll>
                {{settings.primary_navigation[2].name}}
            </a>
            <a 
            class="lightweight-navigation-link header-navigation base-hdr--text"
            ng-class="{'active': scroll >= tertiary_parallax_top && scroll < map_container_bottom}"
            style="font-size: 16px; font-weight: bold"
            href="{{settings.primary_navigation[3].href}}" 
            hash="{{settings.primary_navigation[3].hash}}"
            du-scrollspy
            du-smooth-scroll>
                {{settings.primary_navigation[3].name}}
            </a>
            <a 
            class="lightweight-navigation-link header-navigation base-hdr--text"
            ng-class="{'active': scroll > contact_container_top && scroll < end_of_page_beginning}"
            style="font-size: 16px; font-weight: bold"
            href="{{settings.primary_navigation[4].href}}" 
            hash="{{settings.primary_navigation[4].hash}}"
            du-scrollspy
            du-smooth-scroll>
                {{settings.primary_navigation[4].name}}
            </a>
            <a 
            class="lightweight-navigation-link header-navigation base-hdr--text"
            style="font-size: 16px; font-weight: bold"
            href="{{settings.primary_navigation[5].href}}" 
            hash="{{settings.primary_navigation[5].hash}}"
            du-scrollspy
            du-smooth-scroll>
                {{settings.primary_navigation[5].name}}
            </a>
        </nav>
        <!-- Header Navigation -->
        &nbsp;&nbsp;
        <span class="mdl-layout-title mdl-cell--hide-desktop">
            <!-- Right aligned menu below button -->
            
                <i class="material-icons base-hdr--text" style="font-weight: normal;" ng-click="$parent.mobile_menu = !$parent.mobile_menu;">menu</i>

            <!-- Right aligned menu below button -->
        </span>

    </div>

</header>
<!-- Mobile Nav -->
<style>
.menu-card {
     max-height: inherit;
     position: relative;
     margin: 48px auto 48px auto;
     width: 80%;
     z-index: 999;
}
</style>
<!-- Menu Card Component -->
<div ng-attr-style="width: {{window_width}}px; height: {{window_height}}px; position: fixed; top: 0; left: 0; overflow-y: auto; background: rgba(0, 0, 0, 0.7); z-index: 10000;" ng-show="mobile_menu" ng-click="mobile_menu = false;">

    <div class="menu-card mdl-card" ng-show="mobile_menu" style="z-index: 10001;">

        <!-- Card Titles -->

        <div class="mdl-card__title">
            <h2 class="mdl-card__title-text mdl-color-text--grey-800">Main Menu</h2>
            <div class="mdl-layout-spacer"></div>
            <i class="material-icons" style="cursor: pointer;" ng-click="mobile_menu = false" color="b" hue="hdst" property="txt" opaqueness="" lw-color>close</i>
        </div>
        <!-- Card Titles -->

        <!-- Supporting Text (Instructions & Inputs) -->
        <div class="mdl-card__supporting-text center--block">

            <!-- Menus -->
            <div style="margin: 0 auto; width: inherit;" ng-click="mobile_menu = false">
                <ul class="mdl-list" du-scroll-container="lightweight_content">
                    <li class="mdl-list__item" ng-repeat="item in settings.primary_navigation">
                        <a 
                        class="base-hdr--text"
                        style="font-size: 16px; text-decoration: none;"
                        href="{{item.href}}" 
                        du-scrollspy
                        du-smooth-scroll>
                            <span class="mdl-list__item-primary-content">
                                <i 
                                class="{{item.class}} primary-hn--text mdl-list__item-icon" 
                                role="presentation" 
                                color="primary" 
                                hue="hue normal" 
                                property="text" 
                                opaqueness="" 
                                lw-color>
                                {{item.icon}}
                                </i>
                                {{item.name}}
                            </span>
                    </li>
                </ul>
            </div>
            <!-- Menus -->

        </div>
        <!-- Supporting Text (Instructions & Inputs) -->
    </div>
</div>
<!-- Menu Card Component -->

<!-- Mobile Nav -->
