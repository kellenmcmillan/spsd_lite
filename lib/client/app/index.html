<!doctype html>
<html ng-app="lightweightApp" ng-controller="rootController" class="md-accent">
    <head>

		<!-- Metadata -->
        <base href="/">
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="description" ng-attr-content="{{settings.data.description}}">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <meta name="theme-color" content="#e0e0e0"/>
        <title>SPSD</title>
        <link rel="manifest" href="../manifest.json">
        <link rel="icon" type="image/png" href="https://storage.googleapis.com/spsd-189118.appspot.com/favicon.png"/>
        <!-- Metadata -->

		<!-- Stylesheets -->
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Alex+Brush" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700" rel="stylesheet">
        <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/1.1.4/angular-material.min.css">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.10/css/all.css" integrity="sha384-+d0P83n9kaQMCwj8F4RJB66tzIwOKmrdb46+porD/OvrJ+37WqIM7UoBtwHO6Nlg" crossorigin="anonymous">
        <link rel="stylesheet" type="text/css" href="stylesheets/angular-typewrite.css">
        <link rel="stylesheet" type="text/css" href="stylesheets/app.css">
        <link rel="stylesheet" type="text/css" href="stylesheets/animate.css">
        <link rel="stylesheet" type="text/css" href="stylesheets/header.css">
        <link rel="stylesheet" type="text/css" href="stylesheets/slideshow.css">
        <link rel="stylesheet" type="text/css" href="stylesheets/index.css">
        <link rel="stylesheet" type="text/css" href="stylesheets/pages.css">
        <link rel="stylesheet" type="text/css" href="stylesheets/lightweight.css">
        <link rel="stylesheet" type="text/css" href="stylesheets/text.css">
        <link rel="stylesheet" type="text/css" href="stylesheets/cards.css">
        <link rel="stylesheet" type="text/css" href="stylesheets/buttons.css">
        <link rel="stylesheet" type="text/css" href="stylesheets/footer.css">
        <link rel="stylesheet" type="text/css" href="stylesheets/containers.css">
        <!-- Stylesheets -->

	</head>

    <!-- Global site tag (gtag.js) - Google Analytics -->

    <!-- <script async src="https://www.googletagmanager.com/gtag/js?id=UA-122175355-1"></script>

    <script>

    window.dataLayer = window.dataLayer || [];

    function gtag(){dataLayer.push(arguments);}

    gtag('js', new Date());

    gtag('config', 'UA-115574705-1');

    </script> -->

    <!-- Global site tag (gtag.js) - Google Analytics -->

	<body ng-controller="colorController">

        <style>
        .loading_page {opacity: 1;}
        .loading_page.ng-hide-add {transition: all .5s linear;}
        .loading_page.ng-hide {
            opacity: 0;
        }

        </style>

        <!-- <md-content class="loading_page" id="load_page" style="position: fixed; width: 100%; height: 100%; background-color: #BDBDBD; z-index:20000; top: 0; left: 0; text-align: center;">
            
            <section ng-cloak style="height: 100%;" layout="row" layout-align="center center">

                <div layout="row" layout-align="center center">
                    <div flex="80" flex-sm="60" flex-gt-sm="40" style="margin-top: 64px; text-align: center;">
                        <img style="width: 40px; height: auto;" src="media/spsd-logo.png" ng-cloak="true">
                    </div>
                </div>

            </section>

        </md-content> -->

        <!-- Page Loading Component -->
        <loading-screen></loading-screen>
        <!-- Page Loading Component -->

        <div ng-include src="'application/global/style.html'"></div>
        <div ng-if="isAuthorized('AppLab', me.security.roles)" ng-include src="'application/global/dialogs/editor.html'"></div>
        <div ng-if="isAuthorized('MediaVault', me.security.roles)" ng-include src="'application/global/dialogs/mediaVault.html'"></div>
        <div ng-if="isAuthorized('UserVault', me.security.roles)" ng-include src="'application/global/dialogs/userVault.html'"></div>
        <div ng-if="isAuthorized('UserVault', me.security.roles)" ng-include src="'application/global/dialogs/userVaultDetail.html'"></div>
        <div ng-if="isAuthorized('UserVault', me.security.roles)" ng-include src="'application/global/dialogs/userVaultAddUser.html'"></div>
        <div ng-if="isAuthorized('TaskRunner', me.security.roles)" ng-include src="'application/global/dialogs/tasks.html'"></div>
        <div ng-if="isAuthorized('TaskRunner', me.security.roles)" ng-include src="'application/global/dialogs/tasksAddTask.html'"></div>
        <div ng-if="isAuthorized('TaskRunner', me.security.roles)" ng-include src="'application/global/dialogs/tasksDetail.html'"></div>
        <div ng-if="user" ng-include src="'application/global/dialogs/myVault.html'"></div>
        <div ng-if="user" ng-include src="'application/global/dialogs/share.html'"></div>
        <div ng-if="isAuthorized('TaskRunner', me.security.roles)" ng-include src="'application/global/dialogs/iframeUpload.html'"></div>
        <div ng-if="isAuthorized('Settings', me.security.roles)" ng-include src="'application/global/dialogs/settings.html'"></div>
        <div ng-if="user" ng-include src="'application/global/dialogs/passwordReset.html'"></div>
        <div ng-controller="lightweightController">

    		<!-- views -->
            <div ng-view></div>
            <!-- views -->

        </div>
	</body>
    <!-- sripts -->
    <script>
        if ('Notification' in window && navigator.serviceWorker) {
            navigator.serviceWorker.register('../firebase-messaging-sw.js')
            .then((registered) => {
                console.log("registered service worker");
            })
            .catch(err => console.error('Looks like there is an error....', err))
        }     
    </script>

    <!-- sripts -->
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAF_pWmvd7Wh9qr4tIcyWQUaZr5izq7cys&callback=initMap"
  type="text/javascript"></script>

    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/5.5.3/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.5.3/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.5.3/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.5.3/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.5.3/firebase-messaging.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.5.3/firebase-functions.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.5.3/firebase-storage.js"></script>
    <!-- Firebase -->

    <!-- jquery -->
    <script src="https://code.jquery.com/jquery-3.2.1.js" integrity="sha256-DZAnKJ/6XZ9si04Hgrsxu/8s717jcIzLy3oi35EouyE=" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js" integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=" crossorigin="anonymous"></script>
    <script src="vendors/touchpunch.js"></script>
    <!-- jquery -->

    <!-- Angular Material & Angular.js Libraries -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-animate.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-aria.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-messages.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-sanitize.js" type="text/javascript"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angular_material/1.1.4/angular-material.min.js"></script>
    <script src="vendors/angular-route.min.js" type="text/javascript"></script>
    <script src="vendors/angular-resource.min.js" type="text/javascript"></script>
    <script src="vendors/angular-touch.min.js" type="text/javascript"></script>
    <script src="vendors/angular-uuid.js"></script>
    <script src="vendors/angular-typewrite.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/g/angular.ui-sortable"></script>
    <!-- Angular Material & Angular.js Libraries -->

    <!-- AngularFire -->
    <script src="https://cdn.firebase.com/libs/angularfire/2.3.0/angularfire.min.js"></script>
    <!-- AngularFire -->

    <!-- Vendors -->
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <script src="vendors/underscore-min.js" type="text/javascript"></script>
    <script src="vendors/proton.min.js" type="text/javascript"></script>
    <!-- Vendors -->

    <!-- Client Bootstrap -->
    <script src="javascript/app.js" type="text/javascript"></script>
    <!-- Client Bootstrap -->

    <!-- Client routing -->
    <script src="../routes.js" type="text/javascript"></script>
    <!-- Client routing -->

    <!-- lightweight v 0.5.0 -->
    <script src="../lightweight.js" type="text/javascript"></script>
    <!-- lightweight v 0.5.0 -->

    <!-- Client Scripts -->
    <script src="../root.js" type="text/javascript"></script>
    <script src="../application/directives/palette.js" type="text/javascript"></script>
    <script src="../application/directives/angular-recaptcha.js" type="text/javascript"></script>
    <script src="../application/landing/controllers/landingController.js" type="text/javascript"></script>
    <script src="../application/pages/announcement/controllers/announcementController.js" type="text/javascript"></script>
    <script src="../loading.js" type="text/javascript"></script>
    <script src="../application/pages/gallery/controllers/directoryController.js" type="text/javascript"></script>
    <script src="../application/pages/gallery/controllers/folderController.js" type="text/javascript"></script>
    <script src="../application/pages/info/controllers/infoController.js" type="text/javascript"></script>
    <script src="../application/pages/posts/controllers/bloglistController.js" type="text/javascript"></script>
    <script src="../application/pages/posts/controllers/blogController.js" type="text/javascript"></script>
    <script src="../application/pages/projects/controllers/projectsController.js" type="text/javascript"></script>
    <script src="../application/pages/projects/controllers/projectController.js" type="text/javascript"></script>
    <script src="../application/pages/spotlight/controllers/spotlightController.js" type="text/javascript"></script>
    <script src="../application/pages/team/controllers/teamController.js" type="text/javascript"></script>
    <script src="../application/pages/resource/controllers/resourceController.js" type="text/javascript"></script>
    <script src="../application/pages/explore/controllers/exploreController.js" type="text/javascript"></script>
    <script src="../application/pages/authentication/controllers/loginController.js" type="text/javascript"></script>
    <!-- Client Scripts -->

    <!-- Image upload script -->
    <script src="vendors/image-processing/ng-file-upload-shim.min.js" type="text/javascript"></script>
    <script src="vendors/image-processing/ng-file-upload.min.js" type="text/javascript"></script>
    <!-- Image upload script -->

    <!-- Notification -->
    <script type="text/ng-template" id="toast-template.html">
        <md-toast style="background-color:{{primary_hue_normal.value}};">
            <span class="md-toast-text" flex>{{toastMessage}}</span>
            <md-button ng-show="action" ng-click="openMoreInfo($event)">
            More info
            </md-button>
            <md-button ng-click="closeToast()">
            Close
            </md-button>
        </md-toast>
    </script>
    <!-- Notification -->




</html>