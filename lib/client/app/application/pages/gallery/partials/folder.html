<style>

	.lightbox-image {
		transition-duration: .5s;
		opacity: 0;
	    transition-timing-function: cubic-bezier(.4,0,.2,1);
	    transition-property: opacity;
	    max-height: {{window_height - 120}}px;
	    top: 49px;
	    /*transform: scale(0.8);*/
	}
	.lightbox-image.active {
		opacity: 1;
	}
	.lightbox_curtain.active-lightbox {opacity: 1; display: block;}
	.slide-controller {
		transition-duration: .5s;
	    transition-timing-function: cubic-bezier(.4,0,.2,1);
	    transition-property: border-radius, transform;
	}
	.grid-image {overflow: hidden!important;}
	.galleries md-grid-tile-footer {transition: .2s all ease-in;}
	.galleries md-grid-tile-footer.active {background: {{primary_hue_normal_darkest_opacity.value}}; height: 100%;}
</style>

<md-content class="page galleries" style="height: {{window_height}}px">
	<section style="background: {{base_hue_lighter.value}}">

		<!-- header -->
		<md-subheader class="header md-whiteframe-6dp" layout-align="center center" layout="row" layout flex style="z-index: 21!important; border-bottom: 1px solid #e0e0e0; height: 60px;" ng-class="{'header-ms-explorer': browser == 'ie'}">
			<div ng-include src="'application/partials/header.html'"></div>
		</md-subheader>
		<!-- header -->

		<div ng-include src="'application/partials/navigation-dropdown-parent-mobile.html'"></div>
		<div ng-include src="'application/partials/navigation-dropdown.html'"></div>

		<div style="background: {{base_hue_lighter.value}}; width: 100%; height: 60px;" layout="row" layout-align="start center" layout-wrap>
			
			<md-list flex="100" flex-lg="30" flex-gt-sm="30">	
				<md-list-item>
	                <md-input-container class="md-block lightweight-md-dropdown">
	                    <label>Galleries</label>
	                    <md-select ng-model="gallery_select">
	                        <md-option ng-click="null" ng-repeat="gallery in all_galleries">
	                            {{gallery.name}}
	                        </md-option>
	                    </md-select>
	                </md-input-container>
	            </md-list-item>
            </md-list>

			<span flex="100" flex-lg="50" flex-gt-sm="50" style="text-align: left; color: {{base_hue_darkest.value}};">
			Image {{slide_count + 1}}/{{slideshow_length}}
			</span>
			<span flex></span>
			<md-button class="md-icon-button">
				<md-icon style="color: {{base_hue_darkest.value}};">share</md-icon>
			</md-button>

		</div>

		<div layout="row" layout-align="center center" style="height: {{window_height - 120}}px;" layout-padding>
			<div flex="100">
				<img ng-repeat="image in folder.images" class="lightbox-image" ng-src="{{image.source || image.avatar}}" ng-class="{'active': $index == slide_count}" style="position: absolute; width: 100%; height: auto; max-height: {{window_height - 132}}px; max-width: calc(100% - 32px)">
			</div>
		</div>

		<md-grid-list md-cols="2" md-cols-sm="2" md-cols-md="4" md-cols-lg="12" md-cols-gt-lg="12" md-row-height="250px" md-row-height-lg="300px" md-row-height-gt-lg="400px" md-gutter="0" class="md-whiteframe-8dp">

		  	<md-grid-tile ng-repeat="item in folder.images" layout="row" layout-wrap layout-align="center center" md-colspan="2" md-colspan-sm="2" md-colspan-md="4" md-colspan-lg="4" md-colspan-gt-lg="4" md-rowspan="1" md-rowspan="randomizer($index)" class="grid-image md-whiteframe-6dp" ng-init="hovered = false" ng-mouseenter="hovered = true" ng-mouseleave="hovered = false" style="overflow: hidden;">
		  		<a href="/gallery/{{item.url}}">
			  		<div layout-fill layout-wrap layout="row" layout-align="center center">
			  			<span flex="50" class="featured-gallery-text" style="text-align: center; color: {{base_hue_lightest.value}}; font-size: 18px;">{{item.name}}</span>
			  			<img style="position: absolute; min-height: 100%; max-width: 200%; height: auto; width: auto;" ng-src="{{item.source || item.avatar}}" alt="{{item.name}}">
			  			<md-grid-tile-footer md-truncate ng-class="{'active': hovered}"><h3 style="white-space: pre-wrap;">{{item.name}}<md-icon ng-attr-style="color: {{base_hue_lightest.value}}; cursor: pointer;" aria-label="Go to gallery {{item.name}}" md-font-library="material-icons">chevron_right</md-icon></h3></md-grid-tile-footer>
			  		</div>
		  		</a>
		  	</md-grid-tile>

		</md-grid-list>

	</section>
	<!-- Footer -->
	<div ng-include src="'application/partials/footer.html'"></div>
	<!-- Footer -->
</md-content>


